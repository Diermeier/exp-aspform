
@foreach (var prop in ViewData.ModelExplorer.Properties.Where(me => me.Metadata.ShowForEdit && !ViewData.TemplateInfo.Visited(me)))
{
    if (prop.Metadata.PropertySetter != null)
    {
        <div class="form-group">
            @Html.Label(prop.Metadata.PropertyName)
            @Html.Editor(prop.Metadata.PropertyName, new { htmlAttributes = new { @class = "form-control" } }) @* hack for passig htmlAttributes retaken from: https://cpratt.co/html-editorfor-and-htmlattributes/ *@
            @Html.ValidationMessage(prop.Metadata.PropertyName, new { @class = "text-danger field-validation-valid" })
        </div>
    }
}